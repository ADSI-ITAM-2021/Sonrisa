<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
        crossorigin="anonymous">
    <title>Agendar Cita</title>
</head>
<style>
</style>
<body style="background-color: #ededed;">
    <div class="text-center" style="background-color: #F0E9DA;">
        <img class="p-3" src="./images/logoGob.png" alt="" style="width: 20%;">
    </div>

    <div class="container">
        <div class="row">
            <div id="bienvenida" class="col-lg-12 col-xl-12 bg-light text-dark">
                <h4 id="nombreBienvenida" style="font-weight: bold;"></h4>
                <br>
                <p>
                    Porfavor verifique que todos los datos que usted brindó son correctos.
                </p>
                <p>
                    <b>Marque con una palomita todos los datos que estén correctos</b>
                </p>

            </div>
            <div id="bienvenida" class="col-lg-12 col-xl-12 bg-light text-dark">
                <table id="tableConfirm" class="table" style="font-size: 24px;">
                    <tbody>
                        <tr>
                            <th class="col-md-4" scope="row">Nombre</th>
                            <td id="nombreEnTable"></td>
                            <td><input type="checkbox" name="checkNom" id="checkNom"></td>
                        </tr>
                        <tr>
                            <th scope="row">Fecha de Nacimiento</th>
                            <td id="fdnEnTable">ActualFDN</td>
                            <td><input type="checkbox" name="checkFDN" id="checkFDN"></td>
                        </tr>
                        <tr>
                            <th scope="row">CURP</th>
                            <td id="curpEnTable">ActualCURP</td>
                            <td><input type="checkbox" name="checkCurp" id="checkCurp"></td>
                        </tr>
                    </tbody>
                </table>

            </div>
            <div id="bienvenida" class="col-lg-12 col-xl-12 bg-light text-dark">

                <div class="row">
                    <div class="col">
                        <p>Domicilio</p>
                        <input type="text" id="dom" name="dom" placeholder="Domicilio" required>
                        <img class="p-3" src="./images/fotoMapa.png" alt="" style="width: 100%;">

                    </div>
                    <div class="col">
                        <p>Horario</p>
                        <img class="p-3" src="./images/fotoHorario.png" alt="" style="width: 100%;">
                    </div>
                </div>
            </div>

            <div id="bienvenida" class="col-lg-12 col-xl-12 bg-light text-dark">
                <button type="submit" id="aceptar">Mis datos son correctos y deseo continuar</button>
            </div>
        </div>
    </div>


    <script>
        var nom = document.getElementById('nombreBienvenida');
        var fechaDeNacimiento = localStorage.getItem("fechaNac");
        var actualNom = localStorage.getItem("nombre");
        var curp = localStorage.getItem("curp");

        var yearBorn = parseInt(fechaDeNacimiento.split('-')[0]);
        var d = new Date();
        var year = d.getFullYear();

        console.log(year - yearBorn);
        nom.innerHTML = `Bienvenido/a, ${actualNom}`;

        var nomTab = document.getElementById('nombreEnTable');
        nomTab.innerHTML = actualNom;
        var curpTab = document.getElementById('curpEnTable');
        curpTab.innerHTML = curp;
        var fdnTab = document.getElementById('fdnEnTable');
        fdnTab.innerHTML = fechaDeNacimiento;


        var btnAceptar = document.getElementById('aceptar');
        btnAceptar.onclick = function () {
            var checkNom = document.getElementById('checkNom').checked;
            var checkCurp = document.getElementById('checkCurp').checked;
            var checkFDN = document.getElementById('checkFDN').checked;

            if (checkNom && checkCurp && checkFDN) {
                console.log(checkNom)
                console.log("col")
                if (confirm("El día de su cita es indispensable que lleve una identificación oficial que contenga su CURP.")) {
                    location.href = "./Seguimiento.html";
                }
                
            } else {
                if (confirm("Usted no ha confirmado que sus datos son correctos. Pulse 'OK' si desea regresar a la página principal.")) {
                    location.href = "./login.html"
                }
            }
        }
    </script>
</body>
</html>